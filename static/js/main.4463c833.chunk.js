(this["webpackJsonprestaurants-code-challenge"]=this["webpackJsonprestaurants-code-challenge"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(4),c=n.n(l),u=(n(10),n(1)),i=(n(11),n(2)),o=function(e){return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{display:!0})})).sort((function(e,t){return e.name>t.name?1:-1}))},s=Object(a.createContext)();n(12);var m=function(e){var t=Object(a.useContext)(s).rowKeys,n=e.restaurant;return r.a.createElement("tr",{key:n.id},t.map((function(e){return r.a.createElement("td",{key:e},n[e])})))};n(13);var f=function(){var e=Object(a.useContext)(s),t=e.restaurants,n=e.tableHeadings,l=e.genreFilter,c=e.stateFilter,i=e.search,o=e.filtersActive,f=e.page,h=e.setPage,p=Object(a.useState)(t),d=Object(u.a)(p,2),E=d[0],b=d[1],g=function(e){h(e.target.innerText)};return Object(a.useEffect)((function(){b(t.map((function(e){return e.display=!0,o&&(!0===e.display&&e.state!==c&&"All"!==c&&(e.display=!1),!0!==e.display||e.genre.includes(l)||"All"===l||(e.display=!1)),!0===e.display&&i.length&&(e.city.includes(i)||e.name.includes(i)||e.genre.includes(i))?e.display=!0:!0===e.display&&i.length&&(e.display=!1),e})))}),[l,c,i,t,o,f]),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,n.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,E.filter((function(e){return e.display})).length?function(){var e=10*f-10,t=10*f-1,n=E.filter((function(e){return!0===e.display}));return n.filter((function(a){var r=n.indexOf(a);if(r<=t&&r>=e)return a})).map((function(e){return r.a.createElement(m,{key:e.id,restaurant:e})}))}():r.a.createElement("p",null,"No Matching restaurants"))),function(){for(var e=E.filter((function(e){return!0===e.display})).length/10,t=[],n=0;n<e;n++)t.push(r.a.createElement("button",{className:"page-button",onClick:function(e){return g(e)}},n+1));return t}())};n(14);var h=function(){var e=Object(a.useContext)(s),t=e.genres,n=e.setGenreFilter,l=e.setStateFilter,c=e.setSearch,u=e.filtersActive,i=e.setFiltersActive,o=e.setPage,m=function(e){return e.map((function(e){return r.a.createElement("option",{key:e},e)}))};return r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"State"},"Filter By State"),r.a.createElement("select",{className:"state-select",name:"State",onChange:function(e){l(e.target.value),o(1)}},r.a.createElement("option",null,"All"),m(["AK","AL","AR","AZ","CA","CO","CT","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"]))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"Genre"},"Filter By Type of Restaurant"),r.a.createElement("select",{className:"genre-select",name:"Genre",onChange:function(e){n(e.target.value),o(1)}},r.a.createElement("option",null,"All"),m(t))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"Search"},"Search by Name, City, or Type"),r.a.createElement("input",{className:"search",placeholder:"Search",name:"Search",onChange:function(e){""===e.target.value&&(c(""),o(1))}}),r.a.createElement("button",{className:"search-button",onClick:function(e){e.preventDefault();var t=document.querySelector(".search").value;c(t),o(1)}},"Submit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),i(!u)}},u?"Remove Filters":"Add Filters")))};var p=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),i=Object(u.a)(c,2),m=i[0],p=i[1],d=Object(a.useState)("All"),E=Object(u.a)(d,2),b=E[0],g=E[1],v=Object(a.useState)("All"),y=Object(u.a)(v,2),O=y[0],A=y[1],S=Object(a.useState)(""),j=Object(u.a)(S,2),N=j[0],F=j[1],C=Object(a.useState)(!0),k=Object(u.a)(C,2),w=k[0],M=k[1],T=Object(a.useState)(1),x=Object(u.a)(T,2),I=x[0],D=x[1];return Object(a.useEffect)((function(){!function(e,t){try{fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){var n=o(e);t(n)})).catch((function(e){return console.log(e)}))}catch(n){throw new Error(n.message)}}("Api-Key q3MNxtfep8Gt",l),function(e){var t=[];e.map((function(e){return e.genre})).map((function(e){return e.split(",")})).forEach((function(e){for(var n=0;n<e.length;n++)t.includes(e[n])||t.push(e[n])})),p(t)}(n)}),[n]),r.a.createElement(s.Provider,{value:{tableHeadings:["Name","City","State","Phone Number","Genres"],rowKeys:["name","city","state","telephone","genre"],restaurants:n,genres:m,genreFilter:b,setGenreFilter:g,stateFilter:O,setStateFilter:A,search:N,setSearch:F,setRestaurants:l,filtersActive:w,setFiltersActive:M,page:I,setPage:D}},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Restaurant Table App")),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement(h,null)),r.a.createElement("section",null,r.a.createElement(f,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.4463c833.chunk.js.map